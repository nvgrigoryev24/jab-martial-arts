# üìÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Ç—Ä–µ–Ω–µ—Ä–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –í—ã—Å–æ–∫–∏–π  
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è-–í—ã—Å–æ–∫–∞—è  
**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 10-14 –¥–Ω–µ–π  
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Telegram Bot, PocketBase Collections

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é CRUD –æ–ø–µ—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ UI. –í —Ç–µ–∫—É—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞—Ç –∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.

## üìã –ß–µ–∫-–ª–∏—Å—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (1-2 –¥–Ω—è)

#### PocketBase Collections
- [ ] **–°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `schedule_exceptions`**
  - –ü–æ–ª—è: `parent_schedule_id`, `exception_date`, `type`, `is_cancelled`, `cancellation_reason`, `new_start_time`, `new_end_time`, `new_location`, `new_coaches`, `new_level`, `created_by`
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ (—Ç–æ–ª—å–∫–æ —Ç—Ä–µ–Ω–µ—Ä—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è —Å–≤–æ–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫)
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–ª–µ–π

- [ ] **–°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `trainer_sessions`**
  - –ü–æ–ª—è: `trainer_id`, `session_token`, `expires_at`, `is_active`
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏—Å—Ç–µ–∫—à–∏—Ö —Å–µ—Å—Å–∏–π
  - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–æ–∫–µ–Ω—É

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é `schedule`**
  - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `created_by` (—Å–≤—è–∑—å —Å —Ç—Ä–µ–Ω–µ—Ä–æ–º)
  - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
  - –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏

#### API Endpoints
- [ ] **–°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –≤ `src/lib/pocketbase.ts`:**
  ```typescript
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏
  export const createSchedule = async (scheduleData: CreateScheduleData): Promise<Schedule>
  export const updateSchedule = async (id: string, scheduleData: UpdateScheduleData): Promise<Schedule>
  export const deleteSchedule = async (id: string): Promise<boolean>
  export const getScheduleByTrainer = async (trainerId: string): Promise<Schedule[]>
  
  // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
  export const createScheduleException = async (exceptionData: CreateExceptionData): Promise<ScheduleException>
  export const updateScheduleException = async (id: string, exceptionData: UpdateExceptionData): Promise<ScheduleException>
  export const deleteScheduleException = async (id: string): Promise<boolean>
  export const getScheduleExceptions = async (scheduleId: string): Promise<ScheduleException[]>
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ –¥–∞—Ç—É/–Ω–µ–¥–µ–ª—é
  export const getScheduleForDate = async (date: string): Promise<Schedule[]>
  export const getScheduleForWeek = async (startDate: string): Promise<Record<string, Schedule[]>>
  export const getScheduleForMonth = async (year: number, month: number): Promise<Record<string, Schedule[]>>
  ```

### –≠—Ç–∞–ø 2: –ë–∞–∑–æ–≤—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å (2-3 –¥–Ω—è)

#### –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/TrainerCalendar.tsx`**
  - –ù–µ–¥–µ–ª—å–Ω—ã–π –≤–∏–¥ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/CalendarWeek.tsx`**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–¥–Ω–æ–π –Ω–µ–¥–µ–ª–∏
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ –¥–Ω—è–º/—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º
  - Drag & drop –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/CalendarDay.tsx`**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –¥–Ω—è
  - –°–ø–∏—Å–æ–∫ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å—Ç–∞—Ç—É—Å–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

#### –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] **–°–æ–∑–¥–∞—Ç—å `src/lib/calendarUtils.ts`:**
  ```typescript
  export const getWeekDates = (date: Date): Date[]
  export const getMonthDates = (year: number, month: number): Date[]
  export const formatWeekRange = (startDate: Date, endDate: Date): string
  export const isSameDay = (date1: Date, date2: Date): boolean
  export const isToday = (date: Date): boolean
  export const isPast = (date: Date): boolean
  export const getTimeSlots = (startTime: string, endTime: string, duration: number): string[]
  ```

### –≠—Ç–∞–ø 3: CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (3-4 –¥–Ω—è)

#### –§–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/ScheduleForm.tsx`**
  - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
  - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/EditScheduleModal.tsx`**
  - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/DeleteScheduleModal.tsx`**
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
  - –í—ã–±–æ—Ä —Ç–∏–ø–∞ —É–¥–∞–ª–µ–Ω–∏—è (—Ä–∞–∑–æ–≤–æ–µ/–ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è)
  - –£–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã —É–¥–∞–ª–µ–Ω–∏—è

#### –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- [ ] **–°–æ–∑–¥–∞—Ç—å `src/lib/scheduleValidation.ts`:**
  ```typescript
  export const validateScheduleData = (data: ScheduleData): ValidationResult
  export const checkTimeConflicts = (schedule: Schedule, existingSchedules: Schedule[]): ConflictResult
  export const validateRepeatableSchedule = (data: RepeatableScheduleData): ValidationResult
  export const sanitizeScheduleData = (data: any): ScheduleData
  ```

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/ValidationErrors.tsx`**
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  - –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏

### –≠—Ç–∞–ø 4: –°–∏—Å—Ç–µ–º–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (2-3 –¥–Ω—è)

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/ScheduleExceptionModal.tsx`**
  - –°–æ–∑–¥–∞–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç—ã
  - –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–æ—Ç–º–µ–Ω–∞/–∏–∑–º–µ–Ω–µ–Ω–∏–µ)
  - –§–æ—Ä–º–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/ExceptionList.tsx`**
  - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
  - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω –∏—Å–∫–ª—é—á–µ–Ω–∏–π

#### –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å `src/lib/scheduleUtils.ts`:**
  ```typescript
  export const applyScheduleExceptions = (schedule: Schedule[], exceptions: ScheduleException[]): Schedule[]
  export const getEffectiveSchedule = (baseSchedule: Schedule, exceptions: ScheduleException[], targetDate: string): Schedule | null
  export const isScheduleCancelled = (schedule: Schedule, exceptions: ScheduleException[], targetDate: string): boolean
  export const getScheduleModifications = (schedule: Schedule, exceptions: ScheduleException[], targetDate: string): Partial<Schedule>
  ```

### –≠—Ç–∞–ø 5: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (1-2 –¥–Ω—è)

#### –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- [ ] **–°–æ–∑–¥–∞—Ç—å `src/lib/trainerAuth.ts`:**
  ```typescript
  export const authenticateTrainer = async (telegramData: TelegramAuthData): Promise<TrainerSession>
  export const validateTrainerSession = async (token: string): Promise<TrainerSession | null>
  export const refreshTrainerSession = async (token: string): Promise<TrainerSession>
  export const logoutTrainer = async (token: string): Promise<boolean>
  ```

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/TrainerLogin.tsx`**
  - –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Telegram
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏

- [ ] **–°–æ–∑–¥–∞—Ç—å `src/components/ProtectedRoute.tsx`**
  - –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞

#### Middleware –¥–ª—è API
- [ ] **–°–æ–∑–¥–∞—Ç—å `src/middleware/trainerAuth.ts`:**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π —Ç—Ä–µ–Ω–µ—Ä–æ–≤

### –≠—Ç–∞–ø 6: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 –¥–Ω—è)

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] **–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - –ö—ç—à —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é
  - –ö—ç—à –∏—Å–∫–ª—é—á–µ–Ω–∏–π
  - –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

- [ ] **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã:**
  - Batch –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
  - Lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–µ—Ä–∏–æ–¥–æ–≤
  - Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π:**
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
  - –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏
  - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤

- [ ] **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI:**
  - –í—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
  - –†–∞–∑–ª–∏—á–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
  - –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```typescript
interface ScheduleData {
  day: string;
  start_time: string;
  end_time: string;
  location: string;
  coaches: string[];
  level: 'beginner' | 'intermediate' | 'advanced' | 'all';
  created_by: string;
}

interface ScheduleExceptionData {
  parent_schedule_id: string;
  exception_date: string;
  type: 'cancelled' | 'modified';
  is_cancelled?: boolean;
  cancellation_reason?: string;
  new_start_time?: string;
  new_end_time?: string;
  new_location?: string;
  new_coaches?: string[];
  new_level?: string;
  created_by: string;
}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
```typescript
async function getScheduleForDay(dayOfWeek: string): Promise<Schedule[]> {
  // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏
  const schedules = await pb.collection('schedule').getList(1, 50, {
    filter: `day = "${dayOfWeek}" && is_active = true`,
    expand: 'location,coaches',
    sort: 'start_time'
  });
  
  return schedules.items;
}
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏
```typescript
function validateTimeConflicts(newSchedule: ScheduleData, existingSchedules: Schedule[]): ValidationResult {
  const conflicts = existingSchedules.filter(existing => {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
    const timeOverlap = isTimeOverlapping(
      newSchedule.start_time, newSchedule.end_time,
      existing.start_time, existing.end_time
    );
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Ç—Ä–µ–Ω–µ—Ä–æ–≤
    const coachOverlap = newSchedule.coaches.some(coach => 
      existing.coaches.includes(coach)
    );
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏
    const locationOverlap = newSchedule.location === existing.location;
    
    return timeOverlap && (coachOverlap || locationOverlap);
  });
  
  return {
    hasConflicts: conflicts.length > 0,
    conflicts: conflicts.map(c => ({
      id: c.id,
      reason: getConflictReason(newSchedule, c),
      severity: 'warning' | 'error'
    }))
  };
}
```

## üì± UI/UX —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≤–∏–¥–∂–µ—Ç
- **–ù–µ–¥–µ–ª—å–Ω—ã–π –≤–∏–¥** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –º–µ—Å—è—á–Ω—ã–π
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è** —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏ –≤—ã–±–æ—Ä–æ–º –¥–∞—Ç—ã
- **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** –¥–ª—è –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö/–∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **Hover —ç—Ñ—Ñ–µ–∫—Ç—ã** —Å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –¥–µ—Ç–∞–ª–µ–π

### –§–æ—Ä–º—ã
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
- **–ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ** –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- **Touch-friendly** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **Swipe –Ω–∞–≤–∏–≥–∞—Ü–∏—è** –º–µ–∂–¥—É –Ω–µ–¥–µ–ª—è–º–∏
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞**
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–æ
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–µ—Ä—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏
3. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏
4. **–ê—É–¥–∏—Ç**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. **–û—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [Trainer Calendar System Plan](../notes/2025-01-15_trainer_calendar_system.md)
- [PocketBase Collections Setup](../manuals/pocketbase/POCKETBASE_COLLECTIONS_SETUP.md)
- [Telegram Bot Integration](../manuals/telegram/TELEGRAM_BOT_SETUP.md)
