# Changelog

Все значимые изменения в проекте JAB Martial Arts будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [1.9.0] - 2025-01-15

### Добавлено
- Новая промо секция для детей с полноэкранным фоном
- Коллекция PocketBase `promo_section` для управления контентом промо секции
- Две кнопки действий: "Связаться с нами" и "Поддержать"
- Анимации появления при скролле с Intersection Observer
- Декоративные элементы в стиле JAB (красные и синие акценты)
- Адаптивный дизайн для всех устройств
- Fallback контент при отсутствии данных из PocketBase
- Инструкция по созданию бэкапов в `notes_and_docs/manuals/backup/`
- **Мобильная "peek" функциональность** - карточка выдвигается снизу вверх
- **Интерактивные анимации** - bounce эффект для стрелки, hover эффекты
- **Анимация подглядывания** - карточка слегка высовывается при фокусе на секции
- **Динамическое позиционирование** - поддержка card_width и card_position из PocketBase
- **Прозрачность для мобильных** - улучшенная видимость фонового изображения

### Изменено
- Обновлена структура MainRenderer с добавлением PromoSection после PunchingBagSection
- Расширены интерфейсы PocketBase с новым PromoSection
- Обновлена документация проекта до версии 1.9.0
- **Синхронизирована версия** в package.json с документацией (1.9.0)
- **Улучшена мобильная UX** - карточка показывает только заголовок, остальное по клику
- **Оптимизированы анимации** - плавные переходы и индикаторы интерактивности

### Исправлено
- Удалены неправильные папки бэкапов с вложенной структурой
- Созданы правильные бэкапы в формате tar.gz
- **Исправлено позиционирование** мобильной карточки (absolute вместо fixed)
- **Устранены зазоры** между секциями и карточкой
- **Исправлен margin collapse** - заменен margin на padding
- **Убраны лишние стили** - оптимизированы CSS классы и анимации

## [1.8.0] - 2025-01-15

### Добавлено
- Динамическая система FAQ с категориями и цветовыми схемами
- Новые коллекции PocketBase: `faq` и `faq_categories`
- Поддержка русских названий цветовых тем (красная, синяя, зеленая, оранжевая, фиолетовая, желтая)
- Rich text ответы с правильным отображением абзацев
- Цветные бейджи категорий с наследованием от цветовых схем
- Адаптивный аккордеон для вопросов и ответов

### Изменено
- Исправлено отображение HTML в ответах FAQ (убраны сырые HTML теги)
- Добавлены CSS стили для правильных отступов между абзацами
- Оптимизирована логика получения цветовых тем из expand данных
- Улучшена функция `getCategoryColor` с поддержкой русских названий

### Исправлено
- Проблема с отображением HTML entities (`&nbsp;`, `&amp;` и т.д.)
- Неправильные отступы между абзацами в rich text контенте
- Отсутствие цветовых схем для категорий FAQ

## [1.7.0] - 2025-01-15

### Добавлено
- Динамический раздел "О школе" с полной интеграцией PocketBase
- Новые коллекции PocketBase: `about_page` и `about_cards`
- Карточки с фоновыми изображениями и затемненными оверлеями
- Система управления контентом для раздела "О школе"
- Поддержка rich text форматирования в описаниях карточек

### Изменено
- Оптимизирована композиция карточек с правильными отступами
- Убрана зависимость от цветовых схем для карточек "О школе"
- Все карточки теперь используют единый стиль JAB (красные границы)
- Улучшена обработка HTML контента из PocketBase rich text editor

### Исправлено
- Критическая проблема с покрытием оверлея на мобильных устройствах
- Использование CSS псевдоэлементов для корректного позиционирования
- Границы карточек теперь создаются через `::after` псевдоэлемент
- Оверлей создается через `::before` псевдоэлемент для идеального покрытия

### Техническое
- Обновлены интерфейсы TypeScript для новых коллекций
- Добавлены функции `getAboutPage()` и `getAboutCards()` в PocketBase библиотеку
- Улучшена функция `sanitizeHtmlForDisplay()` для поддержки дополнительных HTML тегов
- Оптимизированы z-index значения для корректной иерархии слоев

## [1.6.0] - 2025-01-15

### Добавлено
- Система цветовых схем для динамического управления цветами
- Поддержка HEX цветов с прозрачностью
- Fallback система для обратной совместимости
- Интеграция цветовых схем с расписанием и уровнями подготовки

### Изменено
- Обновлена система уровней подготовки с цветовыми темами
- Улучшена система расписания с динамическими цветами
- Оптимизированы компоненты для работы с цветовыми схемами

## [1.5.0] - 2025-01-15

### Добавлено
- Динамическая Hero секция с PocketBase интеграцией
- Система управления контентом для главной страницы
- Поддержка изображений с fallback на плейсхолдер
- Настраиваемые тексты и ссылки

### Изменено
- Статичные цвета (красный/синий) для элементов Hero секции
- Адаптивный дизайн с анимациями
- Система загрузки с индикатором

## [1.4.0] - 2025-01-15

### Добавлено
- Система уровней подготовки с цветовыми схемами
- Поддержка slug для URL-дружественных ссылок
- Описания для каждого уровня
- Связь с цветовыми темами для визуального оформления

### Изменено
- Гибкая система сортировки и активации уровней
- Улучшена система расписания с поддержкой уровней

## [1.3.0] - 2025-01-15

### Добавлено
- Система расписания с отображением тренировок по дням недели
- Фильтрация по локациям, уровням и дням
- Поддержка множественных тренеров
- Динамические цветовые схемы для локаций и уровней

### Изменено
- Адаптивный дизайн с аккордеоном для мобильных устройств
- Улучшена производительность загрузки данных

## [1.2.0] - 2025-01-15

### Добавлено
- PocketBase интеграция для управления данными
- Система тренеров с профилями и фотографиями
- Базовая структура коллекций данных
- API функции для работы с PocketBase

### Изменено
- Миграция с статических данных на динамические
- Улучшена архитектура данных

## [1.1.0] - 2025-01-15

### Добавлено
- Базовая структура проекта Next.js 15.5.2
- React 19.1.0 с TypeScript 5
- Tailwind CSS 4 для стилизации
- Основные компоненты и страницы

### Изменено
- Настроена система сборки и разработки
- Добавлены базовые стили и компоненты

## [1.0.0] - 2025-01-15

### Добавлено
- Первоначальная версия проекта JAB Martial Arts
- Базовая структура и настройка проекта
- Документация и инструкции по развертыванию
