# üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞—à–±–æ—Ä–¥–∞ —Ç—Ä–µ–Ω–µ—Ä–∞

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 9 —è–Ω–≤–∞—Ä—è 2025  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** 3 (—Ç—Ä–µ—Ç—å—è –∑–∞–¥–∞—á–∞)  
**–°—Ç–∞—Ç—É—Å:** –û–∂–∏–¥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ —Ç—Ä–µ–Ω–µ—Ä–∞ –¥–ª—è —à–∫–æ–ª—ã –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤ JAB Martial Arts, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–æ–ª–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ—Å–µ—â–µ–Ω–∏–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –∑–∞–ª–µ.

## üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

- **–ü—Ä–æ–µ–∫—Ç:** JAB Martial Arts - —Å–∞–π—Ç —à–∫–æ–ª—ã –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Next.js 15.5.2, React, TypeScript, Tailwind CSS
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** PocketBase –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–°—Ç–∏–ª—å:** –ö–∞—Å—Ç–æ–º–Ω—ã–π –∫—É—Ä—Å–æ—Ä (–±–æ–∫—Å–µ—Ä—Å–∫–∞—è –ø–µ—Ä—á–∞—Ç–∫–∞), –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –∞–Ω–∏–º–∞—Ü–∏–∏
- **–¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è:** –¢—Ä–µ–Ω–µ—Ä—ã —à–∫–æ–ª—ã –µ–¥–∏–Ω–æ–±–æ—Ä—Å—Ç–≤
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è —Å–∏—Å—Ç–µ–º—ã check-in —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 02)

## üîß –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### **1. –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –¥–æ—Å—Ç—É–ø**

#### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –†–æ–ª—å **trainer** –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞—à–±–æ—Ä–¥—É
- –ö–Ω–æ–ø–∫–∞ "Dashboard" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞ –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ User:**
```typescript
interface User {
  id: string;
  phone: string;
  name: string;
  role: 'participant' | 'trainer' | 'qr_generator';
  created_date: string;
  last_login?: string;
  trainer_specialization?: string; // "–ë–æ–∫—Å", "–ö–∏–∫–±–æ–∫—Å–∏–Ω–≥", "MMA"
  trainer_experience?: number; // –ª–µ—Ç –æ–ø—ã—Ç–∞
}
```

### **2. –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–Ω–æ–ø–∫–æ–π Dashboard**

#### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ö–Ω–æ–ø–∫–∞ "Dashboard" –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∏–∑–∞–π–Ω–æ–º JAB
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/trainer-dashboard`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —Ç—Ä–µ–Ω–µ—Ä–∞

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**
```typescript
const Navigation = () => {
  const user = pb.authStore.model;
  const router = useRouter();

  const handleLogout = () => {
    pb.authStore.clear();
    router.push('/');
  };

  return (
    <nav className="bg-gray-900/50 backdrop-blur-sm border-b border-gray-700">
      <div className="container mx-auto px-4 py-3">
        <div className="flex justify-between items-center">
          <Link href="/" className="text-2xl font-bold text-white">
            JAB Martial Arts
          </Link>
          
          {user ? (
            <div className="flex items-center space-x-4">
              <span className="text-gray-300">
                –ü—Ä–∏–≤–µ—Ç, {user.name || user.phone}
              </span>
              
              {/* –ö–Ω–æ–ø–∫–∞ Dashboard –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤ */}
              {user.role === 'trainer' && (
                <Link
                  href="/trainer-dashboard"
                  className="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg cursor-glove transition-colors font-medium"
                >
                  Dashboard
                </Link>
              )}
              
              <button
                onClick={handleLogout}
                className="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg cursor-glove transition-colors"
              >
                –í—ã–π—Ç–∏
              </button>
            </div>
          ) : (
            <Link
              href="/auth"
              className="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg cursor-glove transition-colors"
            >
              –í–æ–π—Ç–∏
            </Link>
          )}
        </div>
      </div>
    </nav>
  );
};
```

### **3. –û—Å–Ω–æ–≤–Ω–æ–π –¥–∞—à–±–æ—Ä–¥ —Ç—Ä–µ–Ω–µ—Ä–∞**

#### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π –∑–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü
- –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö check-in
- –¢–æ–ø –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

#### **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–∞–Ω–Ω—ã—Ö:**
```typescript
interface DashboardStats {
  today: {
    total: number;
    unique: number;
    hourly: { [hour: string]: number };
  };
  week: {
    total: number;
    unique: number;
    daily: { [day: string]: number };
  };
  month: {
    total: number;
    unique: number;
    weekly: { [week: string]: number };
  };
}

interface CheckInWithUser {
  id: string;
  user_phone: string;
  user_name?: string;
  check_in_time: string;
  status: string;
  user_stats?: {
    total_trainings: number;
    streak_days: number;
  };
}

interface TopUser {
  id: string;
  user_phone: string;
  total_trainings: number;
  streak_days: number;
  last_check_in: string;
  favorite_time?: string;
}
```

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–∞—à–±–æ—Ä–¥–∞:**
```typescript
const TrainerDashboard = () => {
  const [stats, setStats] = useState<DashboardStats | null>(null);
  const [recentCheckIns, setRecentCheckIns] = useState<CheckInWithUser[]>([]);
  const [topUsers, setTopUsers] = useState<TopUser[]>([]);
  const [loading, setLoading] = useState(true);
  const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
  const [refreshInterval, setRefreshInterval] = useState<NodeJS.Timeout | null>(null);

  useEffect(() => {
    loadDashboardData();
    
    // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
    const interval = setInterval(loadDashboardData, 30000);
    setRefreshInterval(interval);

    return () => {
      if (interval) clearInterval(interval);
    };
  }, [selectedDate]);

  const loadDashboardData = async () => {
    setLoading(true);
    
    try {
      // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
      const today = selectedDate;
      const todayCheckIns = await pb.collection('check_ins').getList(1, 100, {
        filter: `check_in_time >= "${today}" && status = "success"`,
        expand: 'user_stats'
      });

      // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é
      const weekAgo = new Date(new Date(selectedDate).getTime() - 7 * 24 * 60 * 60 * 1000).toISOString();
      const weekCheckIns = await pb.collection('check_ins').getList(1, 500, {
        filter: `check_in_time >= "${weekAgo}" && status = "success"`,
        expand: 'user_stats'
      });

      // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –º–µ—Å—è—Ü
      const monthAgo = new Date(new Date(selectedDate).getTime() - 30 * 24 * 60 * 60 * 1000).toISOString();
      const monthCheckIns = await pb.collection('check_ins').getList(1, 1000, {
        filter: `check_in_time >= "${monthAgo}" && status = "success"`,
        expand: 'user_stats'
      });

      // –ü–æ–¥—Å—á–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      const todayUnique = new Set(todayCheckIns.items.map(ci => ci.user_phone)).size;
      const weekUnique = new Set(weekCheckIns.items.map(ci => ci.user_phone)).size;
      const monthUnique = new Set(monthCheckIns.items.map(ci => ci.user_phone)).size;

      // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —á–∞—Å–∞–º
      const hourlyStats = calculateHourlyStats(todayCheckIns.items);
      
      // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
      const dailyStats = calculateDailyStats(weekCheckIns.items);

      setStats({
        today: { 
          total: todayCheckIns.items.length, 
          unique: todayUnique,
          hourly: hourlyStats
        },
        week: { 
          total: weekCheckIns.items.length, 
          unique: weekUnique,
          daily: dailyStats
        },
        month: { 
          total: monthCheckIns.items.length, 
          unique: monthUnique,
          weekly: {}
        }
      });

      // –ü–æ—Å–ª–µ–¥–Ω–∏–µ check-in
      setRecentCheckIns(todayCheckIns.items.slice(0, 15));

      // –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      const userStats = await pb.collection('user_stats').getList(1, 10, {
        sort: '-total_trainings'
      });
      setTopUsers(userStats.items);

    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
    } finally {
      setLoading(false);
    }
  };

  const calculateHourlyStats = (checkIns: CheckInWithUser[]) => {
    const hours: { [hour: string]: number } = {};
    checkIns.forEach(checkIn => {
      const hour = new Date(checkIn.check_in_time).getHours();
      hours[hour] = (hours[hour] || 0) + 1;
    });
    return hours;
  };

  const calculateDailyStats = (checkIns: CheckInWithUser[]) => {
    const days: { [day: string]: number } = {};
    checkIns.forEach(checkIn => {
      const day = new Date(checkIn.check_in_time).toLocaleDateString('ru-RU', { weekday: 'long' });
      days[day] = (days[day] || 0) + 1;
    });
    return days;
  };

  const exportData = async (period: 'today' | 'week' | 'month') => {
    try {
      const checkIns = await getCheckInsForPeriod(period);
      const csvData = convertToCSV(checkIns);
      downloadCSV(csvData, `check-ins-${period}-${selectedDate}.csv`);
    } catch (error) {
      console.error('–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞:', error);
    }
  };

  if (loading && !stats) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"></div>
          <div className="text-white text-xl">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black p-6">
      <div className="container mx-auto">
        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã */}
        <div className="flex justify-between items-center mb-8">
          <h1 className="text-4xl font-bold text-white">
            –î–∞—à–±–æ—Ä–¥ —Ç—Ä–µ–Ω–µ—Ä–∞
          </h1>
          
          <div className="flex items-center space-x-4">
            <input
              type="date"
              value={selectedDate}
              onChange={(e) => setSelectedDate(e.target.value)}
              className="px-4 py-2 bg-white/10 border border-gray-600 rounded-lg text-white focus:border-red-500 focus:outline-none"
            />
            
            <button
              onClick={loadDashboardData}
              className="px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg cursor-glove transition-colors"
            >
              –û–±–Ω–æ–≤–∏—Ç—å
            </button>
          </div>
        </div>

        {/* –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
          <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
            <h3 className="text-xl font-bold text-white mb-2">–°–µ–≥–æ–¥–Ω—è</h3>
            <p className="text-3xl font-bold text-red-500">{stats?.today.total || 0}</p>
            <p className="text-gray-300">–æ—Ç–º–µ—Ç–æ–∫</p>
            <p className="text-sm text-gray-400 mt-2">
              {stats?.today.unique || 0} —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            </p>
          </div>
          
          <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
            <h3 className="text-xl font-bold text-white mb-2">–ó–∞ –Ω–µ–¥–µ–ª—é</h3>
            <p className="text-3xl font-bold text-green-500">{stats?.week.total || 0}</p>
            <p className="text-gray-300">–æ—Ç–º–µ—Ç–æ–∫</p>
            <p className="text-sm text-gray-400 mt-2">
              {stats?.week.unique || 0} —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            </p>
          </div>
          
          <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
            <h3 className="text-xl font-bold text-white mb-2">–ó–∞ –º–µ—Å—è—Ü</h3>
            <p className="text-3xl font-bold text-blue-500">{stats?.month.total || 0}</p>
            <p className="text-gray-300">–æ—Ç–º–µ—Ç–æ–∫</p>
            <p className="text-sm text-gray-400 mt-2">
              {stats?.month.unique || 0} —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
            </p>
          </div>
        </div>

        {/* –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
          {/* –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ */}
          <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
            <h3 className="text-xl font-bold text-white mb-4">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ –≤—Ä–µ–º—è —Å–µ–≥–æ–¥–Ω—è</h3>
            <div className="space-y-2">
              {Object.entries(stats?.today.hourly || {})
                .sort(([,a], [,b]) => b - a)
                .slice(0, 8)
                .map(([hour, count]) => (
                <div key={hour} className="flex justify-between items-center">
                  <span className="text-gray-300">{hour}:00</span>
                  <div className="flex items-center space-x-2">
                    <div className="w-20 bg-gray-700 rounded-full h-2">
                      <div 
                        className="bg-red-500 h-2 rounded-full" 
                        style={{ width: `${(count / Math.max(...Object.values(stats?.today.hourly || {}))) * 100}%` }}
                      ></div>
                    </div>
                    <span className="text-white font-medium w-8 text-right">{count}</span>
                  </div>
                </div>
              ))}
            </div>
          </div>

          {/* –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ */}
          <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
            <h3 className="text-xl font-bold text-white mb-4">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏</h3>
            <div className="space-y-2">
              {Object.entries(stats?.week.daily || {})
                .sort(([,a], [,b]) => b - a)
                .map(([day, count]) => (
                <div key={day} className="flex justify-between items-center">
                  <span className="text-gray-300 capitalize">{day}</span>
                  <div className="flex items-center space-x-2">
                    <div className="w-20 bg-gray-700 rounded-full h-2">
                      <div 
                        className="bg-green-500 h-2 rounded-full" 
                        style={{ width: `${(count / Math.max(...Object.values(stats?.week.daily || {}))) * 100}%` }}
                      ></div>
                    </div>
                    <span className="text-white font-medium w-8 text-right">{count}</span>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>

        {/* –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
          {/* –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç–º–µ—Ç–∫–∏ */}
          <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
            <div className="flex justify-between items-center mb-4">
              <h3 className="text-xl font-bold text-white">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ—Ç–º–µ—Ç–∫–∏</h3>
              <button
                onClick={() => exportData('today')}
                className="px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded cursor-glove"
              >
                –≠–∫—Å–ø–æ—Ä—Ç
              </button>
            </div>
            <div className="space-y-3 max-h-96 overflow-y-auto">
              {recentCheckIns.map(checkIn => (
                <div key={checkIn.id} className="flex justify-between items-center py-3 border-b border-gray-600">
                  <div>
                    <span className="text-white font-medium">
                      {checkIn.user_name || checkIn.user_phone}
                    </span>
                    <p className="text-gray-400 text-sm">
                      {checkIn.user_phone}
                    </p>
                    {checkIn.user_stats && (
                      <p className="text-gray-500 text-xs">
                        {checkIn.user_stats.total_trainings} —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, —Å–µ—Ä–∏—è: {checkIn.user_stats.streak_days} –¥–Ω–µ–π
                      </p>
                    )}
                  </div>
                  <span className="text-gray-300 text-sm">
                    {new Date(checkIn.check_in_time).toLocaleTimeString()}
                  </span>
                </div>
              ))}
              {recentCheckIns.length === 0 && (
                <p className="text-gray-400 text-center py-8">
                  –°–µ–≥–æ–¥–Ω—è –µ—â–µ –Ω–∏–∫—Ç–æ –Ω–µ –æ—Ç–º–µ—Ç–∏–ª—Å—è
                </p>
              )}
            </div>
          </div>

          {/* –¢–æ–ø —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ */}
          <div className="bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
            <div className="flex justify-between items-center mb-4">
              <h3 className="text-xl font-bold text-white">–¢–æ–ø —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h3>
              <button
                onClick={() => exportData('month')}
                className="px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded cursor-glove"
              >
                –≠–∫—Å–ø–æ—Ä—Ç
              </button>
            </div>
            <div className="space-y-3">
              {topUsers.map((user, index) => (
                <div key={user.id} className="flex justify-between items-center py-3 border-b border-gray-600">
                  <div className="flex items-center space-x-3">
                    <span className="text-red-500 font-bold text-lg w-8">
                      #{index + 1}
                    </span>
                    <div>
                      <span className="text-white font-medium">
                        {user.user_phone}
                      </span>
                      <p className="text-gray-400 text-sm">
                        –°–µ—Ä–∏—è: {user.streak_days} –¥–Ω–µ–π
                      </p>
                      {user.favorite_time && (
                        <p className="text-gray-500 text-xs">
                          –õ—é–±–∏–º–æ–µ –≤—Ä–µ–º—è: {user.favorite_time}
                        </p>
                      )}
                    </div>
                  </div>
                  <div className="text-right">
                    <span className="text-green-500 font-bold text-lg">
                      {user.total_trainings}
                    </span>
                    <p className="text-gray-400 text-xs">—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>

        {/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã */}
        <div className="mt-8 bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-gray-700">
          <h3 className="text-xl font-bold text-white mb-4">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <button
              onClick={() => exportData('week')}
              className="px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-glove transition-colors"
            >
              –≠–∫—Å–ø–æ—Ä—Ç –∑–∞ –Ω–µ–¥–µ–ª—é
            </button>
            
            <button
              onClick={() => exportData('month')}
              className="px-4 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg cursor-glove transition-colors"
            >
              –≠–∫—Å–ø–æ—Ä—Ç –∑–∞ –º–µ—Å—è—Ü
            </button>
            
            <button
              onClick={() => window.print()}
              className="px-4 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg cursor-glove transition-colors"
            >
              –ü–µ—á–∞—Ç—å –æ—Ç—á–µ—Ç–∞
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};
```

### **4. –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤**

#### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ trainer
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–∞–≤
- Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∞

#### **Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏ —Ç—Ä–µ–Ω–µ—Ä–∞:**
```typescript
// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

export function middleware(request: NextRequest) {
  const pathname = request.nextUrl.pathname;
  
  if (pathname.startsWith('/trainer-dashboard')) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–æ–ª–∏ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
    // —Ç–∞–∫ –∫–∞–∫ PocketBase —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
    return NextResponse.next();
  }
  
  return NextResponse.next();
}

export const config = {
  matcher: ['/trainer-dashboard/:path*']
};
```

#### **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∞—à–±–æ—Ä–¥–∞ —Å –∑–∞—â–∏—Ç–æ–π:**
```typescript
// app/trainer-dashboard/page.tsx
'use client';

import { useEffect, useState } from 'react';
import { useRouter } from 'next/navigation';
import { pb } from '@/lib/pocketbase';
import TrainerDashboard from '@/components/TrainerDashboard';

export default function TrainerDashboardPage() {
  const [isAuthorized, setIsAuthorized] = useState(false);
  const [isLoading, setIsLoading] = useState(true);
  const router = useRouter();

  useEffect(() => {
    const checkAuthorization = () => {
      const user = pb.authStore.model;
      
      if (!user) {
        router.push('/auth');
        return;
      }
      
      if (user.role !== 'trainer') {
        router.push('/unauthorized');
        return;
      }
      
      setIsAuthorized(true);
      setIsLoading(false);
    };

    checkAuthorization();
  }, [router]);

  if (isLoading) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center">
        <div className="text-center">
          <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"></div>
          <div className="text-white text-xl">–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞...</div>
        </div>
      </div>
    );
  }

  if (!isAuthorized) {
    return null; // –†–µ–¥–∏—Ä–µ–∫—Ç —É–∂–µ –ø—Ä–æ–∏–∑–æ—à–µ–ª
  }

  return <TrainerDashboard />;
}
```

### **5. –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**

#### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV —Ñ–æ—Ä–º–∞—Ç
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- –í–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

#### **–§—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞:**
```typescript
const getCheckInsForPeriod = async (period: 'today' | 'week' | 'month') => {
  const now = new Date();
  let startDate: Date;

  switch (period) {
    case 'today':
      startDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());
      break;
    case 'week':
      startDate = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
      break;
    case 'month':
      startDate = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);
      break;
  }

  const checkIns = await pb.collection('check_ins').getList(1, 1000, {
    filter: `check_in_time >= "${startDate.toISOString()}" && status = "success"`,
    expand: 'user_stats'
  });

  return checkIns.items;
};

const convertToCSV = (data: CheckInWithUser[]) => {
  const headers = [
    '–î–∞—Ç–∞',
    '–í—Ä–µ–º—è',
    '–¢–µ–ª–µ—Ñ–æ–Ω',
    '–ò–º—è',
    '–í—Å–µ–≥–æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫',
    '–°–µ—Ä–∏—è –¥–Ω–µ–π',
    '–°—Ç–∞—Ç—É—Å'
  ];

  const rows = data.map(item => [
    new Date(item.check_in_time).toLocaleDateString('ru-RU'),
    new Date(item.check_in_time).toLocaleTimeString('ru-RU'),
    item.user_phone,
    item.user_name || '',
    item.user_stats?.total_trainings || 0,
    item.user_stats?.streak_days || 0,
    item.status
  ]);

  return [headers, ...rows].map(row => 
    row.map(field => `"${field}"`).join(',')
  ).join('\n');
};

const downloadCSV = (csvData: string, filename: string) => {
  const blob = new Blob([csvData], { type: 'text/csv;charset=utf-8;' });
  const link = document.createElement('a');
  
  if (link.download !== undefined) {
    const url = URL.createObjectURL(blob);
    link.setAttribute('href', url);
    link.setAttribute('download', filename);
    link.style.visibility = 'hidden';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }
};
```

### **6. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞**

#### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é
- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –¥–∏–∑–∞–π–Ω–æ–º JAB

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–∫–∏:**
```typescript
// app/unauthorized/page.tsx
import Link from 'next/link';

export default function UnauthorizedPage() {
  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center">
      <div className="text-center max-w-md mx-auto p-6">
        <div className="mb-8">
          <div className="text-6xl mb-4">üö´</div>
          <h1 className="text-3xl font-bold text-white mb-4">
            –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω
          </h1>
          <p className="text-gray-300 mb-6">
            –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã. 
            –î–∞—à–±–æ—Ä–¥ —Ç—Ä–µ–Ω–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å —Ä–æ–ª—å—é "—Ç—Ä–µ–Ω–µ—Ä".
          </p>
        </div>
        
        <div className="space-y-4">
          <Link
            href="/"
            className="block px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg cursor-glove transition-colors"
          >
            –ù–∞ –≥–ª–∞–≤–Ω—É—é
          </Link>
          
          <Link
            href="/auth"
            className="block px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg cursor-glove transition-colors"
          >
            –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
          </Link>
        </div>
      </div>
    </div>
  );
}
```

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### **–ö–ª–∞—Å—Å—ã –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞:**
```css
/* –ê–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin {
  animation: spin 1s linear infinite;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.dashboard-card {
  @apply bg-white/10 backdrop-blur-sm border border-gray-700 rounded-lg p-6;
  transition: all 0.3s ease;
}

.dashboard-card:hover {
  @apply bg-white/15 border-gray-600;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ */
.progress-bar {
  @apply bg-gray-700 rounded-full h-2 overflow-hidden;
}

.progress-fill {
  @apply h-full transition-all duration-500 ease-out;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü */
.dashboard-table {
  @apply w-full text-left;
}

.dashboard-table th {
  @apply text-gray-300 font-medium pb-2 border-b border-gray-600;
}

.dashboard-table td {
  @apply py-3 border-b border-gray-700;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —ç–∫—Å–ø–æ—Ä—Ç–∞ */
.export-button {
  @apply px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded cursor-glove transition-colors;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ */
.date-filter {
  @apply px-4 py-2 bg-white/10 border border-gray-600 rounded-lg text-white focus:border-red-500 focus:outline-none;
}
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PocketBase

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π:**
1. **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏ (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
2. **check_ins** - –∑–∞–ø–∏—Å–∏ –æ –ø–æ—Å–µ—â–µ–Ω–∏—è—Ö (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
3. **user_stats** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

### **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
- **trainer** - —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö check_ins –∏ user_stats
- **participant** - —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **qr_generator** - —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ qr_sessions

### **–ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
```sql
-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
CREATE INDEX idx_check_ins_date ON check_ins(check_in_time);
CREATE INDEX idx_check_ins_user ON check_ins(user_phone);
CREATE INDEX idx_check_ins_status ON check_ins(status);
CREATE INDEX idx_user_stats_trainings ON user_stats(total_trainings);
```

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### **–≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
1. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å User —Å –ø–æ–ª—è–º–∏ —Ç—Ä–µ–Ω–µ—Ä–∞
2. –°–æ–∑–¥–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è DashboardStats –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ PocketBase

### **–≠—Ç–∞–ø 2: –ù–∞–≤–∏–≥–∞—Ü–∏—è**
1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Navigation
2. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É Dashboard –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã

### **–≠—Ç–∞–ø 3: –û—Å–Ω–æ–≤–Ω–æ–π –¥–∞—à–±–æ—Ä–¥**
1. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç TrainerDashboard
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
3. –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –¥–∞—Ç–∞–º

### **–≠—Ç–∞–ø 4: –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**
1. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —á–∞—Å–∞–º –∏ –¥–Ω—è–º
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã

### **–≠—Ç–∞–ø 5: –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö**
1. –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –≤ CSV
3. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

### **–≠—Ç–∞–ø 6: –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤**
1. –°–æ–∑–¥–∞—Ç—å middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–µ–π
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### **–≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–∞—à–±–æ—Ä–¥–∞
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
   - –î–æ—Å—Ç—É–ø –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é trainer
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –¥—Ä—É–≥–∏–º–∏ —Ä–æ–ª—è–º–∏
   - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü
   - –ü–æ—Å–ª–µ–¥–Ω–∏–µ check-in
   - –¢–æ–ø —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
   - –í—ã–±–æ—Ä –¥–∞—Ç—ã
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   - –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

4. **–≠–∫—Å–ø–æ—Ä—Ç:**
   - –≠–∫—Å–ø–æ—Ä—Ç –∑–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å CSV –¥–∞–Ω–Ω—ã—Ö
   - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

5. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
   - –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

6. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:**
   - –†–∞–±–æ—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö
   - –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/components/TrainerDashboard.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–∞—à–±–æ—Ä–¥–∞
- `src/components/Navigation.tsx` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å –∫–Ω–æ–ø–∫–æ–π Dashboard
- `src/app/trainer-dashboard/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∞—à–±–æ—Ä–¥–∞
- `src/app/unauthorized/page.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞
- `src/lib/pocketbase.ts` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏
- `src/utils/exportUtils.ts` - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
- `src/middleware.ts` - middleware –¥–ª—è –∑–∞—â–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `src/app/globals.css` - —Å—Ç–∏–ª–∏ –¥–∞—à–±–æ—Ä–¥–∞

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –¢—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è —Å–∏—Å—Ç–µ–º—ã check-in (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è 02)
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ screen readers –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
5. **–°—Ç–∏–ª—å:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∏–∑–∞–π–Ω—É JAB Martial Arts
6. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫

## üîß –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### **–ù–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã:**
```json
{
  "recharts": "^2.8.0",
  "date-fns": "^2.30.0"
}
```

### **–¢–∏–ø—ã:**
```json
{
  "@types/recharts": "^2.0.0"
}
```

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–∞—á–∞—Ç—å —Å –≠—Ç–∞–ø–∞ 1 - –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PocketBase.








